<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red de Consciencia Galáctica - 141.7 Hz</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #canvas {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: radial-gradient(ellipse at center, #0a0a2e 0%, #000 70%);
        }

        .planet {
            position: absolute;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .earth {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #4169e1, #1e3a8a);
            box-shadow: 0 0 30px #4169e1;
        }

        .mars {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #cd5c5c, #8b0000);
            box-shadow: 0 0 20px #cd5c5c;
        }

        .vega {
            width: 70px;
            height: 70px;
            background: radial-gradient(circle at 30% 30%, #dda0dd, #8b008b);
            box-shadow: 0 0 25px #dda0dd;
        }

        .awakened {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        .node {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }

        .node.resonating {
            background: #ffd700;
            box-shadow: 0 0 10px #ffd700;
        }

        .wave {
            position: absolute;
            border: 2px solid rgba(255, 215, 0, 0.6);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            animation: expand 3s ease-out forwards;
        }

        @keyframes expand {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 500px;
                height: 500px;
                opacity: 0;
            }
        }

        .galactic-wave {
            border-color: rgba(147, 112, 219, 0.8);
            animation-duration: 5s;
        }

        #info {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        #frequency {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        #controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        button {
            background: rgba(65, 105, 225, 0.3);
            color: #fff;
            border: 1px solid rgba(65, 105, 225, 0.6);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
        }

        button:hover {
            background: rgba(65, 105, 225, 0.5);
            box-shadow: 0 0 10px rgba(65, 105, 225, 0.8);
        }

        .connection {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);
            transform-origin: left center;
            pointer-events: none;
        }

        #signature {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.1);
        }

        #icq {
            position: absolute;
            bottom: 5px;
            left: 10px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: color 0.3s;
        }

        #icq:hover {
            color: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <div id="canvas">
        <div id="info">
            <div>Red de Consciencia Galáctica</div>
            <div>Nodos Terrestres: <span id="earth-nodes">0</span></div>
            <div>Nodos Marcianos: <span id="mars-nodes">0</span></div>
            <div>Nodos Veganos: <span id="vega-nodes">0</span></div>
            <div>Planetas Despiertos: <span id="awakened-count">0</span></div>
        </div>
        <div id="frequency">141.7 Hz</div>
        <div id="controls">
            <button onclick="addMeditator()">Meditar</button>
            <button onclick="emitGlobalWave()">Onda Global</button>
            <button onclick="autoSimulation()">Simulación Auto</button>
        </div>
        <div id="signature">∴ JMMB</div>
        <div id="icq" onclick="this.innerText='institutoconsciencia@proton.me'">ICQ</div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const canvasRect = canvas.getBoundingClientRect();
        
        // Planetas
        const planets = {
            earth: {
                element: null,
                x: 25,
                y: 50,
                nodes: [],
                resonatingCount: 0,
                awakened: false,
                criticalMass: 0.75
            },
            mars: {
                element: null,
                x: 50,
                y: 30,
                nodes: [],
                resonatingCount: 0,
                awakened: false,
                criticalMass: 0.75
            },
            vega: {
                element: null,
                x: 75,
                y: 60,
                nodes: [],
                resonatingCount: 0,
                awakened: false,
                criticalMass: 0.75
            }
        };

        // Inicializar planetas
        function initPlanets() {
            Object.keys(planets).forEach(name => {
                const planet = planets[name];
                const el = document.createElement('div');
                el.className = `planet ${name}`;
                el.style.left = planet.x + '%';
                el.style.top = planet.y + '%';
                el.onclick = () => addNodeToPlanet(name);
                canvas.appendChild(el);
                planet.element = el;
            });
        }

        // Añadir nodo a un planeta
        function addNodeToPlanet(planetName) {
            const planet = planets[planetName];
            const node = {
                id: `${planetName}-node-${planet.nodes.length}`,
                resonance: 100 + Math.random() * 50,
                element: null,
                angle: Math.random() * Math.PI * 2,
                distance: 60 + Math.random() * 40
            };

            // Crear elemento visual
            const el = document.createElement('div');
            el.className = 'node';
            const x = planet.x + (node.distance / window.innerWidth * 100) * Math.cos(node.angle);
            const y = planet.y + (node.distance / window.innerHeight * 100) * Math.sin(node.angle);
            el.style.left = x + '%';
            el.style.top = y + '%';
            canvas.appendChild(el);
            node.element = el;

            planet.nodes.push(node);
            updateInfo();
            
            // Efecto de resonancia
            setTimeout(() => adjustNodeResonance(planet, node), 100);
        }

        // Ajustar resonancia del nodo
        function adjustNodeResonance(planet, node) {
            // Simular ajuste gradual hacia 141.7
            const targetResonance = 141.7;
            const rate = 0.1;
            
            const interval = setInterval(() => {
                if (Math.abs(node.resonance - targetResonance) > 0.5) {
                    node.resonance += (targetResonance - node.resonance) * rate;
                    
                    if (Math.abs(node.resonance - targetResonance) < 5) {
                        node.element.classList.add('resonating');
                        if (!planet.awakened) checkPlanetAwakening(planet);
                    }
                } else {
                    clearInterval(interval);
                    emitWave(node.element.style.left, node.element.style.top);
                }
            }, 100);
        }

        // Verificar despertar planetario
        function checkPlanetAwakening(planet) {
            const resonatingNodes = planet.nodes.filter(n => 
                Math.abs(n.resonance - 141.7) < 5
            ).length;
            
            if (resonatingNodes / planet.nodes.length >= planet.criticalMass && !planet.awakened) {
                planet.awakened = true;
                planet.element.classList.add('awakened');
                updateInfo();
                
                // Emitir onda galáctica
                setTimeout(() => {
                    emitGalacticWave(planet);
                }, 500);
            }
        }

        // Emitir onda
        function emitWave(x, y, isGalactic = false) {
            const wave = document.createElement('div');
            wave.className = isGalactic ? 'wave galactic-wave' : 'wave';
            wave.style.left = x;
            wave.style.top = y;
            canvas.appendChild(wave);
            
            setTimeout(() => wave.remove(), isGalactic ? 5000 : 3000);
        }

        // Emitir onda galáctica
        function emitGalacticWave(sourcePlanet) {
            emitWave(sourcePlanet.x + '%', sourcePlanet.y + '%', true);
            
            // Afectar otros planetas
            Object.keys(planets).forEach(name => {
                if (planets[name] !== sourcePlanet && !planets[name].awakened) {
                    planets[name].nodes.forEach(node => {
                        node.resonance += 5 + Math.random() * 10;
                        adjustNodeResonance(planets[name], node);
                    });
                }
            });
        }

        // Actualizar información
        function updateInfo() {
            document.getElementById('earth-nodes').textContent = planets.earth.nodes.length;
            document.getElementById('mars-nodes').textContent = planets.mars.nodes.length;
            document.getElementById('vega-nodes').textContent = planets.vega.nodes.length;
            
            const awakened = Object.values(planets).filter(p => p.awakened).length;
            document.getElementById('awakened-count').textContent = awakened;
            
            if (awakened === 3) {
                document.getElementById('frequency').textContent = '173.4 Hz ✨';
                document.getElementById('frequency').style.color = '#9370db';
            }
        }

        // Funciones de control
        function addMeditator() {
            // Añadir nodo aleatorio
            const planetNames = Object.keys(planets);
            const randomPlanet = planetNames[Math.floor(Math.random() * planetNames.length)];
            addNodeToPlanet(randomPlanet);
        }

        function emitGlobalWave() {
            emitWave('50%', '50%', true);
            Object.values(planets).forEach(planet => {
                planet.nodes.forEach(node => {
                    node.resonance += 10;
                    adjustNodeResonance(planet, node);
                });
            });
        }

        let autoRunning = false;
        function autoSimulation() {
            autoRunning = !autoRunning;
            if (autoRunning) {
                const auto = setInterval(() => {
                    if (!autoRunning) {
                        clearInterval(auto);
                        return;
                    }
                    addMeditator();
                }, 2000);
            }
        }

        // Crear conexiones entre planetas despiertos
        setInterval(() => {
            const awakenedPlanets = Object.values(planets).filter(p => p.awakened);
            if (awakenedPlanets.length >= 2) {
                for (let i = 0; i < awakenedPlanets.length - 1; i++) {
                    for (let j = i + 1; j < awakenedPlanets.length; j++) {
                        createConnection(awakenedPlanets[i], awakenedPlanets[j]);
                    }
                }
            }
        }, 3000);

        function createConnection(planet1, planet2) {
            const conn = document.createElement('div');
            conn.className = 'connection';
            
            const x1 = (planet1.x / 100) * window.innerWidth;
            const y1 = (planet1.y / 100) * window.innerHeight;
            const x2 = (planet2.x / 100) * window.innerWidth;
            const y2 = (planet2.y / 100) * window.innerHeight;
            
            const distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            const angle = Math.atan2(y2 - y1, x2 - x1);
            
            conn.style.width = distance + 'px';
            conn.style.left = x1 + 'px';
            conn.style.top = y1 + 'px';
            conn.style.transform = `rotate(${angle}rad)`;
            
            canvas.appendChild(conn);
            setTimeout(() => conn.remove(), 2000);
        }

        // Inicializar
        initPlanets();
        
        // Añadir algunos nodos iniciales
        setTimeout(() => {
            for (let i = 0; i < 3; i++) {
                addNodeToPlanet('earth');
            }
        }, 1000);
    </script>
</body>
</html>