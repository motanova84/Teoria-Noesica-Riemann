name: 游깱 QCAL Resonance Check

on:
  workflow_dispatch:
  schedule:
    - cron: '17 14 * * *'  # Ejecutar todos los d칤as a las 14:17 UTC (coherente con 1417)

jobs:
  verificar_resonancia:
    runs-on: ubuntu-latest

    steps:
    - name: 游닌 Checkout repositorio
      uses: actions/checkout@v4

    - name: 游냀 Instalar Python 3
      uses: actions/setup-python@v4
      with:
        python-version: '3.12'

    - name: 游빍 Instalar dependencias
      run: |
        python3 -m pip install --upgrade pip
        pip install numpy matplotlib

    - name: 游댌 Ejecutar verificaci칩n de frecuencia
      run: python3 scripts/verifica_frecuencia.py

    - name: 游늳 Generar gr치fico diario
      run: python3 scripts/genera_grafico.py

    - name: 游닋 Subir gr치fico como artefacto
      uses: actions/upload-artifact@v4
      with:
        name: grafico_resonancia
        path: resultados_qcal/*.png

