name: ğŸŒŠ Resonancia Viva CI - fâ‚€ = 141.7001 Hz

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test-resonance:
    name: ğŸµ Verificar Primo y Frecuencia + GrÃ¡fico
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout del cÃ³digo
        uses: actions/checkout@v4

      - name: ğŸ§ª Verificar nÃºmero primo y frecuencia
        run: |
          python3 -c "
import sys

def is_prime(n):
    if n <= 1:
        sys.exit('âŒ Not a prime')
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            sys.exit('âŒ Not a prime')
    if abs(n / 10 - 141.7001) > 1e-10:
        sys.exit(f'âŒ Frequency mismatch: {n / 10}')
    print(f'âœ… {n} is prime and fâ‚€ = 141.7001 Hz verified')

is_prime(1417)
"

      - name: ğŸ“Š Crear grÃ¡fico de resonancia
        run: |
          pip install matplotlib
          mkdir -p resultados_qcal
          python3 -c "
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(140, 144, 500)
y = np.exp(-(x - 141.7001)**2 / (2 * 0.001**2))
plt.plot(x, y)
plt.title('Resonancia QCAL âˆÂ³')
plt.xlabel('Frecuencia (Hz)')
plt.ylabel('Intensidad')
plt.grid(True)
plt.savefig('resultados_qcal/grafico_resonancia.png', dpi=300)
"

      - name: ğŸ“¤ Subir grÃ¡fico como artefacto
        uses: actions/upload-artifact@v4
        with:
          name: grafico-resonancia-qcal
          path: resultados_qcal/grafico_resonancia.png

